
４ 例外処理

型安全に例外を扱いたい。
非検査例外はチェックが漏れる可能性がある。
そもそもチェック不要な、修復不可能な例外に使うべし。

検査例外は一応コンパイラで強制できるが、mapなどの高階関数と相性が悪い。
呼び出し側が事前に関数の例外を知ってないといけない。組み合わせにくい


## Option 

`B>:A` AはBの部分型。javaで言うと、AはBを継承している。

相加平均はmeanで、もっと広い平均はaverageらしい。

## Either

optionは表現力が足りない。
標準ライブラリの一部など、例外が誰から見ても一意で、
特に気にしないでいい時になら使えそうだが、それ以外ならEitherが無難かと。

例えばdaoでfindByIdとかをOptionで包んで返すケースがあるけど、
これはネットワークやDB側のトラブルのエラー、sqlの書き間違いを握りつぶす可能性がある。
IO系はエラーの原因が一意に決まらないことが多そう。